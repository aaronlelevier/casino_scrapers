<div class="rowTable">
  <header>
    <h1 class="t-people">{{t "admin.person" count="2"}}</h1>
    {{#unless model.isLoaded}}{{grid-loading-graphic}}{{/unless}}
    <div class="control-menu pull-right">
      <form class="form-inline" onsubmit="return false;">
        <div class="form-group">
          {{grid-search-input placeholder=(t 'admin.person.search') keyup="keyup"}}
          <div class="btn-group btn-group-sm">
            {{#link-to 'admin.people.new' class="t-person-new add-btn btn btn-default btn-sm"}}
            {{fa-icon "plus-circle"}} {{t 'button.add' model=(t 'admin.person.one')}}
            {{/link-to}}
          </div>
        </div>
      </form>
    </div>
  </header>

  {{#if toggleFilter}}
    {{#focus-tether-dialog target=targetFilter close='toggleFilterModal' hasOverlay=false clickOutsideToClose=true attachment='top right'}}
      {{input-dynamic-filter close='toggleFilterModal' obj=filterModel prop=filterField placeholder=filterPlaceholder}}
    {{/focus-tether-dialog}}
  {{/if}}

        <section class="docSection docSectionWithFooter">
          <table class="table table-striped table-hover">
            <thead>
              <tr class="head">
                <th></th>
                <th style="width: 30%">
                  <span class="t-sort-first-name">{{t "admin.person.label.name"}}</span>
                  <span class="t-filter-fullname fa fa-filter pull-right {{if (fulltext-active "fullname" find) "on" ""}}" {{action 'toggleFilterModal' 'fullname'}}></span>
                  <span {{action "sortBy" "first_name"}} class="t-sort-first-name-dir pull-right fa {{query-param-asc "first_name" sort}}"></span>
                </th>
                <th style="width: 20%">
                  <span class="t-sort-username">{{t "admin.person.label.username"}}</span>
                  <span class="t-filter-username fa fa-filter pull-right {{if (fulltext-active "username" find) "on" ""}}" {{action 'toggleFilterModal' 'username'}}></span>
                  <span {{action "sortBy" "username"}} class="t-sort-username-dir pull-right fa {{query-param-asc "username" sort}}"></span>
                </th>
                <th style="width: 20%">
                  <span class="t-sort-title">{{t "admin.person.label.title"}}</span>
                  <span class="t-filter-title fa fa-filter pull-right {{if (fulltext-active "title" find) "on" ""}}" {{action 'toggleFilterModal' 'title'}}></span>
                  <span {{action "sortBy" "title"}} class="t-sort-title-dir pull-right fa {{query-param-asc "title" sort}}"></span>
                </th>
                <th style="width: 20%">{{t "admin.person.label.role"}}</th>
        				<th class="text-right" style="width: 10%">{{t "admin.person.label.employee_id"}}</th>
              </tr>
            </thead>
            <tbody>
              {{#each paginated_content as |person|}}
              {{#link-to 'admin.people.person' person.id tagName="tr" class="t-person-data"}}
              <td><input type="checkbox" /></td>
              <td class="t-person-fullname">{{person.fullname}}</td>
              <td class="t-person-username">{{person.username}}</td>
              <td class="t-person-title">{{person.title}}</td>
              <td class="t-person-role-name">{{person.role.name}}</td>
              <td class="text-right t-person-employee-id">{{person.employee_id}}</td>
              {{/link-to}}
              {{/each}}
            </tbody>
          </table>

        </section>

      <footer>
          <nav class="text-center">
            <ul class="pagination t-pages">
              <li class="t-first {{if first '' 'disabled'}}" disabled={{if first disabled ''}}>{{#link-to 'admin.people.index' (query-params page=first) disabled=notFirst}}&laquo;{{/link-to}}</li>
              <li class="t-previous {{if previous '' 'disabled'}}" disabled={{if previous disabled ''}}>{{#link-to 'admin.people.index' (query-params page=previous) disabled=notPrevious}}&lsaquo;{{/link-to}}</li>
              {{#each shown_pages as |page|}}
                <li class="t-page">
                    {{#link-to 'admin.people.index' (query-params page=page)}}{{page}}{{/link-to}}
                </li>
              {{/each}}
              <li class="t-next {{if next '' 'disabled'}}" disabled={{if next disabled ''}}>{{#link-to 'admin.people.index' (query-params page=next) disabled=notNext}}&rsaquo;{{/link-to}}</li>
              <li class="t-last {{if last '' 'disabled'}}" disabled={{if last disabled ''}}>{{#link-to 'admin.people.index' (query-params page=last) disabled=notLast}}&raquo;{{/link-to}}</li>
            </ul>
          </nav>
      </footer>

</div>
